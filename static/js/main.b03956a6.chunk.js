(this.webpackJsonprequestum=this.webpackJsonprequestum||[]).push([[0],{47:function(e,t,r){},53:function(e,t,r){},55:function(e,t,r){},56:function(e,t,r){},57:function(e,t,r){},58:function(e,t,r){},59:function(e,t,r){},62:function(e,t,r){"use strict";r.r(t);var c=r(0),n=r.n(c),a=r(13),o=r.n(a),i=(r(47),r(7)),s=r(4),u=r(15),j=r(35),d=r(36),l="NEXT_PAGE",b="PREV_PAGE",O="SET_PAGE",h="SET_ERROR",g="START_LOADER",v="STOP_LOADER",f="SET_DATA",x="REMOVE_DATA",p="SET_BLOCKS_AMOUNT_ON_PAGE",m="SET_SEARCH_QUERY",y={loader:!1,data:[],currentPage:1,blocksAmountOnPage:8,searchQuery:"",error:""},N=Object(u.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(s.a)(Object(s.a)({},e),{},{currentPage:e.currentPage+1});case b:return Object(s.a)(Object(s.a)({},e),{},{currentPage:e.currentPage-1>1?e.currentPage-1:1});case f:return Object(s.a)(Object(s.a)({},e),{},{data:t.data});case O:return Object(s.a)(Object(s.a)({},e),{},{currentPage:t.page});case h:return Object(s.a)(Object(s.a)({},e),{},{error:t.error});case m:return Object(s.a)(Object(s.a)({},e),{},{searchQuery:t.query});case p:return Object(s.a)(Object(s.a)({},e),{},{blocksAmountOnPage:t.amount});case x:return Object(s.a)(Object(s.a)({},e),{},{data:[]});case g:return Object(s.a)(Object(s.a)({},e),{},{loader:!0});case v:return Object(s.a)(Object(s.a)({},e),{},{loader:!1});default:return e}}),Object(j.composeWithDevTools)(Object(u.applyMiddleware)(d.a)));window.store=N;var _=N,S=(r(53),r(2));function A(){return Object(S.jsxs)("div",{className:"header",children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{className:"header__title",children:"requesrum"}),Object(S.jsx)("div",{className:"header__subtitle",children:"web development company"})]}),Object(S.jsx)("div",{children:"Github users search app"})]})}var P=r(30),E=r(40),T=(r(55),function(e){return{type:h,error:e}}),w=function(){return{type:g}},k=function(){return{type:v}},R=function(){return function(e,t){var r=t(),c=r.blocksAmountOnPage,n=r.currentPage,a=r.searchQuery;fetch("https://api.github.com/search/repositories?q=".concat(a,"&page=").concat(n,"&per_page=").concat(c)).then((function(t){return t.ok||(403===t.status?(e(T("Too many requests. Try to reload page")),console.error("this error occur when unauthorized user create too many requests")):e(T(t.statusText))),t})).then((function(e){return e.json()})).then((function(t){return Object(i.b)((function(){e(function(e){return{type:f,data:e}}(t.items))}))})).finally((function(){return e(k())}))}};function q(){var e,t=Object(c.useState)(""),r=Object(E.a)(t,2),n=r[0],a=r[1],o=Object(i.d)((function(e){return e})),s=o.searchQuery,u=(o.blocksAmountOnPage,Object(i.c)()),j=Object(c.useCallback)(function(e,t){var r;return function(){clearTimeout(r);for(var c=arguments.length,n=new Array(c),a=0;a<c;a++)n[a]=arguments[a];r=setTimeout.apply(void 0,[e,t].concat(n))}}(a,2e3),[]);Object(c.useEffect)((function(){s&&(d(s),Object(i.b)((function(){u({type:O,page:1}),u(R())})))}),[n]);var d=function(e){var t=JSON.parse(localStorage.getItem("history"))||[];5===t.length?localStorage.setItem("history",JSON.stringify([e].concat(Object(P.a)(t.slice(0,4))))):localStorage.setItem("history",JSON.stringify([e].concat(Object(P.a)(t))))};return Object(S.jsxs)("div",{className:"search",children:[Object(S.jsx)("input",{className:"search__input",onChange:function(e){var t=e.target.value;u(t?w():k()),u({type:m,query:t}),j(t)},value:s,placeholder:"Start typing..."}),Object(S.jsxs)("div",{className:"search__history",children:["Search history:",null===(e=JSON.parse(localStorage.getItem("history")))||void 0===e?void 0:e.map((function(e,t){return Object(S.jsx)("div",{children:e},"".concat(t," ").concat(e))}))]})]})}r(56),r(57);function C(e){var t=e.name,r=e.language,c=e.description;return Object(S.jsxs)("div",{className:"block",children:[Object(S.jsx)("div",{children:t||"No data"}),Object(S.jsxs)("div",{children:["language:"," ",r||"No data"]}),Object(S.jsxs)("div",{children:["description:"," ",c||"No data"]})]})}var J=r(37);r(58);function Q(){return Object(S.jsx)("div",{className:"loader",children:Object(S.jsxs)(J.a,{speed:1,width:375,height:110,viewBox:"0 0 400 110",backgroundColor:"gray",foregroundColor:"#ded9d9",children:[Object(S.jsx)("rect",{x:"4",y:"6",rx:"3",ry:"3",width:"88",height:"18"}),Object(S.jsx)("rect",{x:"4",y:"48",rx:"3",ry:"3",width:"410",height:"11"}),Object(S.jsx)("rect",{x:"4",y:"67",rx:"3",ry:"3",width:"399",height:"11"}),Object(S.jsx)("rect",{x:"4",y:"98",rx:"3",ry:"3",width:"178",height:"14"})]})})}function D(){var e,t,r=Object(i.d)((function(e){return e})),c=r.data,n=r.loader,a=r.blocksAmountOnPage;return Object(S.jsx)("div",{className:"blocks",children:n?null===(e=new Array(+a))||void 0===e||null===(t=e.fill(0))||void 0===t?void 0:t.map((function(e){return Object(S.jsx)(Q,{})})):null===c||void 0===c?void 0:c.map((function(e){return Object(S.jsx)(C,{name:e.name,description:e.description,language:e.language},e.id)}))})}var G=r(38),I=r.n(G),M=r(39),B=r.n(M),L=r(77);r(59);function U(){var e=Object(i.d)((function(e){return e})),t=e.currentPage,r=e.searchQuery,c=e.error,n=e.data,a=e.blocksAmountOnPage,o=Object(i.c)();return c?Object(S.jsx)("div",{className:"error",children:c}):r&&n.length&&Object(S.jsxs)("div",{className:"pagination",children:[Object(S.jsx)(L.a,{variant:"contained",onClick:function(){o(w()),o({type:b}),o(R())},children:Object(S.jsx)(I.a,{})}),t,Object(S.jsx)(L.a,{variant:"contained",onClick:function(){(null===n||void 0===n?void 0:n.length)<a||(o(w()),o({type:l}),o(R()))},children:Object(S.jsx)(B.a,{})})]})}var V=function(){return Object(S.jsxs)(i.a,{store:_,children:[Object(S.jsx)(A,{}),Object(S.jsx)("hr",{}),Object(S.jsxs)("div",{className:"containter",children:[Object(S.jsx)(q,{}),Object(S.jsxs)("div",{className:"content",children:[Object(S.jsx)(D,{}),Object(S.jsx)(U,{})]})]})]})};o.a.render(Object(S.jsx)(n.a.StrictMode,{children:Object(S.jsx)(V,{})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.b03956a6.chunk.js.map